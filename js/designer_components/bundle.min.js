var a=class{static postLoad(){}constructor(e,t,i){this.domNode=e,this.pyComponent=t,this.el=i}static init(e,t="anvil-extras-designer"){let i=()=>{this.loading=!0,$(()=>{this.setup(e,t),this.postLoad(),this.loaded=!0,this.loading=!1})};if(!this.loaded&&!this.loading){if(this.loading=!0,this.links.forEach(s=>{let n=document.createElement("link");n.href=s,n.rel="stylesheet",document.body.appendChild(n)}),this.css){let s=document.createElement("style");s.innerHTML=this.css,document.body.appendChild(s)}if(this.script){let s=document.createElement("script");s.src=this.script,document.body.appendChild(s),s.onload=i}else i()}else this.loading||i()}static setup(e,t){for(let i of document.querySelectorAll(e)){let s=i.parentElement;if(s.classList.contains(t))return;s.classList.add(t);let n=$(s).data("anvilPyComponent"),o;try{o=n._anvil.customPropVals}catch(c){console.error(c);return}let l=new this(s,n,i);o&&l.makeGetSets(o),l.update({...o||this.defaults})}}makeGetSets(e){let t={...e},i=this;for(let s in t)this.setProp(s,e[s],t),Object.defineProperty(e,s,{get(){return t[s]},set(n){t[s]=n;try{i.setProp(s,n,t),i.update({...t},s,n)}catch{}return!0}})}update(e,t,i){}setProp(e,t,i){}updateSpacing({spacing_above:e,spacing_below:t}){let i=Array.prototype.filter.call(this.domNode.classList,s=>s.startsWith("anvil-spacing-"));this.domNode.classList.remove(...i),e&&this.domNode.classList.add("anvil-spacing-above-"+e),t&&this.domNode.classList.add("anvil-spacing-above-"+t)}updateRole({role:e}){let t=Array.prototype.filter.call(this.domNode.classList,i=>i.startsWith("anvil-role-"));this.domNode.classList.remove(...t),e&&this.domNode.classList.add("anvil-role-"+e)}updateVisible({visible:e}){this.domNode.classList.toggle("visible-false",!e)}getColor(e,t){return e&&e.startsWith("theme:")&&(e=window.anvilThemeColors[e.replace("theme:","")]||""),!e&&t?t===!0||t==="primary"?window.anvilThemeColors["Primary 500"]||"#2196F3":t:e}getColorRGB(e,t){if(e=this.getColor(e,t),e&&e.startsWith("#")){let i=parseInt(e.slice(1),16);return[i>>16&255,i>>8&255,i&255].join(",")}else if(e&&e.startsWith("rgb("))return e.slice(4,e.length-1);return e}clearElement(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild)}get[Symbol.toStringTag](){return"Designer Component"}};a.css="",a.links=[],a.script="",a.loaded=!1,a.loading=!1,a.defaults={},a.initializing=!1;var b=class extends a{static postLoad(){$.fn.selectpicker.Constructor.BootstrapVersion="3"}static init(){super.init(".select-picker")}constructor(e,t,i){super(e,t,i);this.picker=$(i),this.picker.selectpicker()}update(e,t){t&&!(t in this.constructor.defaults)||(this.picker.attr("title",e.placeholder||null),this.picker.selectpicker({title:e.placeholder}),this.picker.attr("disabled",e.enabled?null:""),this.updateSpacing(e),this.updateVisible(e),this.picker.selectpicker("refresh"),this.picker.selectpicker("render"))}get[Symbol.toStringTag](){return"MultiSelectDropDown"}};b.defaults={placeholder:"None Selected",enabled:!0,visible:!0,spacing_above:"small",spacing_below:"small"},b.links=["https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css"],b.script="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/js/bootstrap-select.min.js";var u=class extends a{static init(){super.init(".quill-editor")}constructor(e,t,i){super(e,t,i);this.editor=i}update(e){this.editor.firstElementChild&&this.editor.removeChild(this.editor.firstElementChild),this.domNode.firstElementChild!==this.editor&&this.domNode.removeChild(this.domNode.firstElementChild);let t=new Quill(this.editor,{modules:{toolbar:e.toolbar||!1},readOnly:e.readonly,theme:e.theme,placeholder:e.placeholder});this.updateSpacing(e),this.updateVisible(e);let i=e.height;i=(""+i).match(/[a-zA-Z%]/g)?i:i+"px",this.editor.style.minHeight=i,this.editor.style.height=e.auto_expand?i:"auto",t.setText(e.content||"")}get[Symbol.toStringTag](){return"Quill"}};u.defaults={auto_expand:!0,content:"",height:150,placeholder:null,readonly:!1,theme:"snow",toolbar:!0,visible:!0},u.links=["//cdn.quilljs.com/1.3.6/quill.snow.css","//cdn.quilljs.com/1.3.6/quill.bubble.css"],u.script="//cdn.quilljs.com/1.3.6/quill.min.js";var p=class extends a{static init(){super.init(".anvil-slider","anvil-slider-container")}constructor(e,t,i){super(e,t,i);this.slider=i}parse(e,t=!1){if(typeof e!="string")return e;if(e=e.toLowerCase().trim(),!e)return t?[]:null;try{return JSON.parse((t||e.includes(","))&&e[0]!=="["?`[${e}]`:e)}catch{return t?[]:e}}getFormatter(e){let t=e.indexOf("{"),i=e.indexOf("}"),s=t===-1?"":e.slice(0,t),n=i===-1?"":e.slice(i+1),o=e[i-1]==="%"?"%":null,l=Sk.ffi.toPy(e),c=l.tp$getattr(Sk.ffi.toPy("format")),d=r=>{let m=Sk.ffi.toPy(r);return t===-1?Sk.builtin.format(m,l):c.tp$call([m])};try{d(1.1)}catch(r){throw new Error(r.toString())}return{to:r=>{try{return d(r)}catch{return r}},from:r=>{r.startsWith(s)&&(r=r.slice(s.length)),r.endsWith(n)&&(r=r.slice(0,r.length-n.length));let m=o==="%"&&r.endsWith("%");r=r.trim().replace(/[,_]/g,"");let x=parseFloat(r);return m&&(x=x/100),x}}}update(e){try{for(let t of["start","connect","margin","padding","limit","pips_values"])e[t]=this.parse(e[t],t==="pips_values");e.range={min:e.min,max:e.max},e.format=this.getFormatter(e.format||".2f"),e.pips&&(e.pips={format:e.format,mode:e.pips_mode,values:e.pips_values,density:e.pips_density,stepped:e.pips_stepped}),this.domNode.classList.toggle("has-pips",!!e.pips),this.slider.noUiSlider?.destroy(),this.slider.firstElementChild&&this.slider.removeChild(this.slider.firstElementChild),this.domNode.style.setProperty("--primary",this.getColor(e.color,!0)),this.updateSpacing(e),this.updateVisible(e),e.enabled?this.slider.removeAttribute("disabled"):this.slider.setAttribute("disabled",""),noUiSlider.create(this.slider,e)}catch(t){this.slider.noUiSlider?.destroy(),this.slider.firstElementChild&&this.slider.removeChild(this.slider.firstElementChild);let i=$(`<div class='invalid-component'>
              <i class="glyphicon glyphicon-remove"></i>
              <div class="err">${t.message.replaceAll("noUiSlider","Slider")}</div></div>`);this.slider.appendChild(i[0])}}get[Symbol.toStringTag](){return"Slider"}};p.defaults={start:[20,80],connect:!0,min:0,max:100,visible:!0,enabled:!0},p.links=["https://cdn.jsdelivr.net/npm/nouislider@15.4.0/dist/nouislider.css"],p.script="https://cdn.jsdelivr.net/npm/nouislider@15.4.0/dist/nouislider.js",p.css=`.anvil-container-overflow,.anvil-panel-col{overflow:visible}.anvil-slider-container{padding:10px 0;min-height:50px}
.anvil-slider-container.has-pips{padding-bottom:40px}.noUi-connect{background:var(--primary)}
.noUi-horizontal .noUi-handle{width:34px;height:34px;right:-17px;top:-10px;border-radius:50%}.noUi-handle::after,.noUi-handle::before{content:none}`;var y=class extends a{static init(){super.init(".anvil-extras-switch")}constructor(e,t,i){super(e,t,i);let s=t._anvil.components[0].component,n=s._anvil.domNode;n.classList.add("switch"),n.style.setProperty("--color",this.getColorRGB("#2196F3"));let o=n.querySelector("span");o.classList.add("lever"),o.removeAttribute("style");let l=n.querySelector("label"),c=document.createTextNode(""),d=document.createTextNode("");l.prepend(c),l.append(d),l.style.padding="7px 0",this.cb=s,this.cbNode=n,this.textNodePre=c,this.textNodePost=d}setProp(e,t,i){try{this.cb._anvil.setProp(e,Sk.ffi.toPy(t))}catch(s){e==="checked_color"?this.cbNode.style.setProperty("--color",this.getColorRGB(t,!0)):e==="text_pre"?this.textNodePre.textContent=t:this.textNodePost.textContent=t}}get[Symbol.toStringTag](){return"Switch"}};y.css=`
.switch,.switch *{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.switch label{cursor:pointer}
.switch label input[type=checkbox]{opacity:0;width:0;height:0}.switch label input[type=checkbox]:checked+.lever{background-color:rgba(var(--color), .5)}
.switch label input[type=checkbox]:checked+.lever:after,.switch label input[type=checkbox]:checked+.lever:before{left:18px}
.switch label input[type=checkbox]:checked+.lever:after{background-color:rgb(var(--color))}
.switch label .lever{content:"";display:inline-block;position:relative;width:36px;height:14px;background-color:rgba(0,0,0,0.38);border-radius:15px;margin-right:10px;-webkit-transition:background 0.3s ease;transition:background 0.3s ease;vertical-align:middle;margin:0 16px}
.switch label .lever:after,.switch label .lever:before{content:"";position:absolute;display:inline-block;width:20px;height:20px;border-radius:50%;left:0;top:-3px;-webkit-transition:left 0.3s ease, background 0.3s ease, -webkit-box-shadow 0.1s ease, -webkit-transform 0.1s ease;transition:left 0.3s ease, background 0.3s ease, -webkit-box-shadow 0.1s ease, -webkit-transform 0.1s ease;transition:left 0.3s ease, background 0.3s ease, box-shadow 0.1s ease, transform 0.1s ease;transition:left 0.3s ease, background 0.3s ease, box-shadow 0.1s ease, transform 0.1s ease, -webkit-box-shadow 0.1s ease, -webkit-transform 0.1s ease}
.switch label .lever:before{background-color:rgb(var(--color), 0.15)}
.switch label .lever:after{background-color:#F1F1F1;-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0 rgba(0,0,0,0.14),0px 1px 5px 0 rgba(0,0,0,0.12);box-shadow:0 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0 rgba(0,0,0,0.14),0px 1px 5px 0 rgba(0,0,0,0.12)}
input[type=checkbox]:checked:not(:disabled) ~ .lever:active::before,input[type=checkbox]:checked:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgb(var(--color), 0.15)}
input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}
.switch input[type=checkbox][disabled]+.lever{cursor:default;background-color:rgba(0,0,0,0.12)}
.switch label input[type=checkbox][disabled]+.lever:after,.switch label input[type=checkbox][disabled]:checked+.lever:after{background-color:#949494}`;var g=class extends a{static init(){super.init(".anvil-container .tabs","anvil-extras-designer")}constructor(e,t,i){super(e,t,i);this.tabs=i,this.domNode.style.paddingTop="0",this.domNode.style.paddingBottom="0"}update(e){this.clearElement(this.tabs);let t={offsetLeft:0,offsetWidth:0};e.tab_titles||=[],e.tab_titles.forEach((o,l)=>{let c=document.createElement("li");c.className="tab";let d=document.createElement("a");d.style.cssText=`
			font-weight:${e.bold?"bold":""};
			text-align: ${e.align};
			font-size: ${e.font_size?e.font_size+"px":""};
			font-family:${e.font||""};
			font-style: ${e.italic?"italic":""};
			`,d.textContent=o,c.appendChild(d),this.tabs.appendChild(c),l===e.active_tab_index&&(d.className="active",t=c)});let i=document.createElement("li");this.tabs.appendChild(i),i.className="indicator",i.style.left=t.offsetLeft+"px",i.style.right=this.tabs.offsetWidth-t.offsetLeft-t.offsetWidth+"px";let s=this.getColorRGB(e.foreground,!0);this.tabs.style.setProperty("--color",s);let n=this.getColor(e.background);this.tabs.style.setProperty("--background",n),this.updateSpacing(e),this.updateRole(e),this.updateVisible(e)}get[Symbol.toStringTag](){return"Tabs"}};g.defaults={tab_titles:["Tab 1","Tab 2"],active_tab_index:0,visible:!0,align:"left"},g.css=".anvil-extras-tabs.anvil-role-card{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.tabs{position:relative;overflow-x:auto;overflow-y:hidden;height:48px;width:100%;background-color:var(--background, inherit);margin:0 auto;white-space:nowrap;padding:0;display:flex;z-index:1}.tabs .tab{flex-grow:1;display:inline-block;text-align:center;line-height:48px;height:48px;padding:0;margin:0;text-transform:uppercase}.tabs .tab a{color:rgba(var(--color),0.7);display:block;width:100%;height:100%;padding:0 24px;font-size:14px;text-overflow:ellipsis;overflow:hidden;-webkit-transition:color 0.28s ease, background-color 0.28s ease;transition:color 0.28s ease, background-color 0.28s ease}.tabs .tab a:focus,.tabs .tab a:focus.active{background-color:rgb(var(--color), 0.2);outline:none}.tabs .tab a.active,.tabs .tab a:hover{background-color:transparent;color:rgb(var(--color))}.tabs .indicator{position:absolute;bottom:0;height:3px;background-color:rgb(var(--color), 0.4);will-change:left, right}";var f=class extends a{static init(){super.init(".chip-placeholder","anvil-extras-chip")}constructor(e,t,i){super(e,t,i);i.remove(),this.label=t._anvil.components[0].component,this.link=t._anvil.components[1].component,this.linkNode=this.link._anvil.domNode,this.linkNode.classList.remove("anvil-container")}setProp(e,t,i){switch(e){case"visible":this.updateVisible(i);break;case"spacing_above":case"spacing_below":this.updateSpacing(i);break;case"text":case"icon":this.label._anvil.setPropJS(e,t);break;case"foreground":this.link._anvil.setPropJS(e,t||"rgba(0,0,0,0.6)"),this.label._anvil.setPropJS(e,t||"rgba(0,0,0,0.6)");break;case"close_icon":this.linkNode.style.display=t?"block":"none";break;case"background":this.pyComponent._anvil.setPropJS(e,t);break}}get[Symbol.toStringTag](){return"Chip"}};f.css=".anvil-extras-chip{height:32px;font-size:14px;font-weight:500;color:rgba(0,0,0,0.6);line-height:32px;padding:0 12px;border-radius:16px;background-color:#e4e4e4;cursor:pointer;display:flex;gap:14px;align-items:center;width:fit-content;padding-left:12px;padding-right:12px}.anvil-extras-chip i.anvil-component-icon.left{font-size:1.5rem}.anvil-extras-chip a{user-select:none}.anvil-extras-chip a .link-text{}.anvil-extras-chip span{padding:0 !important}";var v=class extends a{static init(){f.init(),super.init(".chips-input-placeholder","anvil-extras-chips-input")}constructor(e,t,i){super(e,t,i);i.remove();let s=t._anvil.components[0].component;this.chipNode=s._anvil.domNode,this.input=t._anvil.components[1].component,this.inputNode=this.input._anvil.domNode,this.chips=[],Sk.misceval.callsimArray(s.tp$getattr(new Sk.builtin.str("remove_from_parent")))}setProp(e,t,i){switch(e){case"chips":debugger;t=Array.from(new Set((t||[]).filter(s=>s))),this.chips.forEach(s=>this.domNode.removeChild(s)),this.chips=[],t.forEach((s,n)=>{let o=this.chipNode.cloneNode(!0);o.querySelector("span").textContent=s,this.chips.push(o),this.domNode.insertBefore(o,this.inputNode)}),this.chips.length?this.input._anvil.setPropJS("placeholder",i.secondary_placeholder):this.input._anvil.setPropJS("placeholder",i.primary_placeholder);break;case"spacing_above":case"spacing_below":this.updateSpacing(i);break;case"visible":this.updateVisible(i);break;case"primary_placeholder":!this.chips.length&&this.input._anvil.setPropJS("placeholder",t);break;case"secondary_placeholder":this.chips.length&&this.input._anvil.setPropJS("placeholder",t);break}}get[Symbol.toStringTag](){return"ChipsInput"}};v.css=".anvil-extras-chips-input input{box-shadow:none !important;border:none !important;padding:7px 0 !important;margin-bottom:0 !important;flex:1;min-width:50px}.anvil-extras-chips-input{display:flex;flex-wrap:wrap;gap:8px;border-bottom:1px solid;align-items:center;padding-bottom:4px}";export{f as DesignerChip,v as DesignerChipsInput,a as DesignerComponent,b as DesignerMultiSelectDropDown,u as DesignerQuill,p as DesignerSlider,y as DesignerSwitch,g as DesignerTabs};
